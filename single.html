 <!DOCTYPE html>
<html>
<head>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.15.1/dist/phaser-arcade-physics.min.js"></script>
</head>
<body>
    <p>
    Speed: </p>
    <script>var player1color;
this.number;
this.color2;
this.scoreText=0;
this.count;
function makeButton(name, x, y)
{
    var button = this.add.image(x, y, 'button', 0).setInteractive();
    button.name = name;
    this.add.text(x-70, y-20, button.name, { font: '30px Arial', fill: '#fff' });
     //   var text = this.add.(x - 40, y - 8, 'nokia', name, 16);
   // text.x += (button.width - text.width) / 2;
    button.setScale(7, 1.5);

if(button.name==='Single Player')
{
        button.setInteractive();

        button.once('pointerup', function () {

            this.scene.start('game');

        }, this);
    } 

   else if(button.name==='MultiPlayer')
{
        button.setInteractive();

        button.once('pointerup', function () {

            this.scene.start('char2');

        }, this);
}
else{
   var markers = [
    { name: 'Red', color:0xFF0000},
    { name: 'Green',color: 0x60BB37},
    { name: 'Pink',color: 0xF2ABA0},
    { name: 'Purple',color: 0x9900FF},
    { name: 'Orange',color: 0xFF9900},
    { name: 'Teal',color: 0x00FFB0},
    { name: 'Aqua',color: 0x2EBD97},
    { name: 'Brown',color: 0x45290B},
    { name: 'Yellow',color: 0xFFFF00},
    { name: 'Light Blue', color: 0x6666FF},
    { name: 'Light Green',color: 0x00FF00},
    { name: 'Blue',color:0x353582},
    { name: 'Light Purple',color: 0xB4A7D6},
    { name: 'Light Red',color: 0xFF4141},
    { name: 'Dark Red',color: 0xAB0000},
    { name: 'Dark Blue', color:0x161635}
          ];
          button.tint=(markers[i].color);
           
              button.setInteractive();
for(i=0;i<markers.length;i++)
    {if (markers[i].name===button.name)
        {
            button.setInteractive();
        button.once('pointerup', function () {
        
 color2 = markers[i].color;
            this.scene.start('game');

        }, this);

}           
        
               //player1 = this.physics.add.rectangle(750, 300, 0xff6699).setImmovable();
              
          }
      }
  }
function setButtonFrame(button, frame)
{
    button.frame = button.scene.textures.getFrame('button', frame);
}

var fx;

var Preloader = new Phaser.Class({

    Extends: Phaser.Scene,

    initialize:

    function Preloader ()
    {
        Phaser.Scene.call(this, { key: 'preloader' });
    },

    preload: function ()
    {
        this.load.setBaseURL('http://labs.phaser.io/');
        this.load.image('bg', 'assets/skies/space3.png');

    this.load.spritesheet('button', 'assets/ui/flixel-button.png', { frameWidth: 80, frameHeight: 20 });

    this.load.bitmapFont('nokia', 'assets/fonts/bitmap/nokia16black.png', 'assets/fonts/bitmap/nokia16black.xml');

        this.load.atlas('gems', 'assets/tests/columns/gems.png', 'assets/tests/columns/gems.json');
        this.load.image('buttonBG', 'assets/sprites/button-bg.png');
        this.load.image('buttonText', 'assets/sprites/button-text.png');
        this.load.image('ayu', 'assets/pics/ayu.png');
        this.load.spritesheet('ball', '/assets/ball.png', { frameWidth: 12, frameHeight: 12 });
        this.load.spritesheet('brick0', '/assets/brick0.jpg', { frameWidth: 16, frameHeight: 32 });
        this.load.spritesheet('brick1', '/assets/brick1.jpg',{ frameWidth: 16, frameHeight: 32 });
        this.load.image('stars', '/assets/starfield.jpg',{ frameWidth: 512, frameHeight: 512 });
    },

    create: function ()
    {

        this.scene.start('mainmenu');
    }

});

var MainMenu = new Phaser.Class({

    Extends: Phaser.Scene,

    initialize:

    function MainMenu ()
    {
        Phaser.Scene.call(this, { key: 'mainmenu' });
        window.MENU = this;
    },

    create: function ()
    {

    fx = this.sound.add('sfx');
            var bg = this.add.image(400, 300, 'bg');
    bg.setScale(800/bg.width, 600/bg.height);
    markers = [
    { name: 'Single Player' },
    { name: 'MultiPlayer' }];
Menu = this.add.text(100, 20, 'Pong Menu', { font: '100px Arial', fill: '#fff' });
        makeButton.call(this, markers[0].name, 350, 240);
        makeButton.call(this, markers[1].name, 350, 280);


    }

});

var Char1 = new Phaser.Class({

    Extends: Phaser.Scene,

    initialize:

        function Char1 ()
    {
        Phaser.Scene.call(this, { key: 'char1' });
        window.CHAR1 = this;
    
        this.controls;
        this.track;
        this.text;
    },
      create: function ()
    {
            var bg = this.add.image(400, 300, 'bg');
    bg.setScale(800/bg.width, 600/bg.height);
Character = this.add.text(50, 20, 'One Player:', { font: '100px Arial', fill: '#fff' });
Character2 = this.add.text(70, 120, 'Pick Your Character Color:', { font: '50px Arial', fill: '#fff' });
     var markers = [
    { name: 'Red', color:0xFF0000},
    { name: 'Green',color: 0x60BB37},
    { name: 'Pink',color: 0xF2ABA0},
    { name: 'Purple',color: 0x9900FF},
    { name: 'Orange',color: 0xFF9900},
    { name: 'Teal',color: 0x00FFB0},
    { name: 'Aqua',color: 0x2EBD97},
    { name: 'Brown',color: 0x45290B},
    { name: 'Yellow',color: 0xFFFF00},
    { name: 'Light Blue', color: 0x6666FF},
    { name: 'Light Green',color: 0x00FF00},
    { name: 'Blue',color:0x353582},
    { name: 'Light Purple',color: 0xB4A7D6},
    { name: 'Light Red',color: 0xFF4141},
    { name: 'Dark Red',color: 0xAB0000},
    { name: 'Dark Blue', color:0x161635}
          ];
for(i=0; i<markers.length; i++)
       {this.number=i;
           if(i<=3)
           {
        makeButton.call(this, markers[i].name, 110, 200 + (i+1)*60); }
       
        if(i>3 &&i<=7)
           {
        makeButton.call(this, markers[i].name, 110+190, 200 + (i-3)*60); }
         if(i>7 &&i<=11)
           {
        makeButton.call(this, markers[i].name, 110+190*2, 200 + (i-7)*60); }
         if(i>11 &&i<=15)
           {
        makeButton.call(this, markers[i].name, 110+190*3, 200 + (i-11)*60); }
       }
    }

});
var Pong = new Phaser.Class({
    Extends: Phaser.Scene,
    initialize:
    function Pong ()
    {
        Phaser.Scene.call(this, { key: 'game' });
        this.player1;
        this.ball;
        this.timer;
        this.startTime;
        this.endTime;
    },
  create: function () {
    timeInSeconds = 120;
     this.scoreTime = this.add.text(30, 30, 'Time: '+timeInSeconds, { fontSize: '32px', fill: 'white'});
     function  tick() {
        timeInSeconds++;
    }
    this.background = this.add.tileSprite(400, 300, 800, 600,'stars');
    this.ball = this.physics.add.image(400, 500,'ball').setCollideWorldBounds(true).setBounce(1);
    this.player1 = this.physics.add.image(750, 300, 'brick0').setImmovable();
    count=0;
    for(i=0;i<10;i++)
    {
        for(j=0;j<5;j++)
    {
       pizza= this.physics.add.image(750-34*j, 550-64*i, 'brick0').setImmovable();
            pizza.displayWidth = 32; 
    pizza.displayHeight = 64; 
     this.physics.add.collider(this.ball, pizza, this.hitpizza, null, this);
    }}
    this.player1 = this.physics.add.image(50, 300, 'brick1').setImmovable();
    this.ball.displayWidth = 50;
    this.ball.displayHeight = 50;
    this.player1.displayWidth = 32; 
    this.player1.displayHeight = 64; 
    this.ball.setData('onPaddle', false);
    this.physics.world.setBoundsCollision(false, false, true, true);
    this.physics.add.collider(this.ball, this.player1, this.hitPlayer1, null, this);
    this.physics.add.collider(this.ball, this.brick1, this.hitBrick1, null, this);
    time=0;
    this.scoreText = this.add.text(16, 16, 'Score: '+time, { fontSize: '32px', fill: 'white'});
    this.input.on('pointermove', function (pointer) {
        this.player1.y = Phaser.Math.Clamp(pointer.y, 52, 748);
        if (this.ball.getData('onPaddle'))
        {
            this.ball.y = this.player1.y;
        }
    }, this);
    this.input.on('pointerup', function (pointer) {
        if (!this.ball.getData('onPaddle'))
        {
            this.ball.setVelocity(150, 400); //make random
            this.ball.setData('onPaddle', false);
            function start() {
  startTime = new Date();
}
        }
        }, this);
    },
    resetLevel: function ()
    {
        this.ball.setVelocity(0);
        this.ball.setPosition(400, 400);
        this.ball.setData('onPaddle', false);
    },
    hitPlayer1: function (ball, player1)
    {
        var diff = 0;
        if (ball.x < player1.x)
        {
            //  Ball is on the left-hand side of the paddle
            diff = player1.y - ball.y;
            ball.setVelocityX(-10 * diff);
        }
        else if (ball.y > player1.y)
        {
            //  Ball is on the right-hand side of the paddle
            diff = ball.y -player1.y;
            ball.setVelocityX(10 * diff);
        }
        else
        {
            //  Ball is perfectly in the middle
            //  Add a little random X to stop it bouncing straight up!
            ball.setVelocityX(2 + Math.random() * 8);
        }
    },
    hitpizza: function (ball, pizza)
    {
            pizza.destroy();
            ball.setVelocityX(-10 * 12);
            count=count+1;

    },
    update: function ()
    {
        if (this.ball.x > 800)
        {
            this.count=count;
            this.scene.start('game');

        } 
        if(this.ball.x <0)
        {
            console.log("end game");
            this.scene.start('gameover');
        }
        cursors = this.input.keyboard.createCursorKeys();
 if (cursors.up.isDown) {
    player1.body.velocity.y = -200;    
  } else if (cursors.down.isDown) {
    player1.body.velocity.y = 200;
  }

this.scoreText.setText('Score:' + count);
function end() {
  endTime = new Date();
  var timeDiff = (this.endTime - this.startTime)/1000;
  var time = Math.round(timeDiff);
this.scoreText.setText(time);
}
        
    }
    });
    var GameOver = new Phaser.Class({

    Extends: Phaser.Scene,

    initialize:

    function GameOver ()
    {
        Phaser.Scene.call(this, { key: 'gameover' });
        window.OVER = this;
    },

    create: function ()
    {
        this.add.text(300, 500, 'Game Over - Click to start restart', { font: '10px Courier', fill: '#00ff00' });
        this.add.text(100, 100, 'Final Score - '+count+' Seconds: '+this.scoreText , { font: '10px Courier', fill: '#00ff00' });

        this.input.once('pointerup', function (event) {

            this.scene.start('mainmenu');

        }, this);
    }

});
var config = {
    type: Phaser.WEBGL,
    width: 800,
    height: 600,
    parent: 'phaser-example',
    scene: [ MainMenu, GameOver,Pong, Char1 ],
    physics: {
        default: 'arcade'
    },
    pixelArt: true
};
var game = new Phaser.Game(config);
        </script>)

</body>
</html>