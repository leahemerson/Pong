<!DOCTYPE html>
<html>
<head>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.15.1/dist/phaser-arcade-physics.min.js"></script>
</head>
<body>
    <p>
    Speed: </p>
    <script>
        var speed2;
         speed2=100;
    var config = {
        type: Phaser.AUTO,
        width: 800,
        height: 600,
        physics: {
            default: 'arcade',
            arcade: {
            }
        },
        scene: {
            preload: preload,
            create: create,
            update: update
        }
    };

    var game = new Phaser.Game(config);
    function preload ()
    {
        this.load.setBaseURL('http://labs.phaser.io');

        this.load.image('sky', 'assets/skies/space3.png');

        this.load.image('logo','assets/pics/titan-mech.png');
        this.load.image('dudette','assets/pics/ayu2.png');
        this.load.image('dude','assets/pics/contra3.png' , { frameWidth: 30, frameHeight: 100 });
       // this.load.image('logo');
        this.load.image('red', 'assets/particles/red.png');
 //        this.load.spritesheet('buttons', "images/buttons.png",{ frameWidth: 236, frameHeight: 65 });
    }
var background;

var score1=0;
var score2=0;     
    function create ()
    {
         this.keyW=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.W);
    this.keyS=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.S);

        background=this.add.image(400, 300, 'sky');

       var particles = this.add.particles('red');

        var emitter = particles.createEmitter({
            speed: 100,
            scwale: { start: 1, end: 0 },
            blendMode: 'ADD'
        });
        logo = this.physics.add.image(300, 10,'logo');
        logo.setScale(.3, .3);
       // var logo = this.physics.add.image(300, 100,'logo');

       // logo.setVelocity(speed2, speed2);

        logo.setBounce(1, 1.2);
        logo.setGravityY(-110);
        logo.setCollideWorldBounds(true);
        logo.setVelocity(400,200);
        emitter.startFollow(logo);
        player = this.physics.add.sprite(800, 650, 'dude');
        player.setScale(.2, .8);
       this.physics.add.collider(logo,player);
//player.body.setGravityY(0);
    //player.body.velocity.y = 0;
player.setCollideWorldBounds(true);
        player2 = this.physics.add.sprite(0, 650, 'dudette');
        player2.setScale(.2, .4);
       this.physics.add.collider(logo,player2);
//player.body.setGravityY(0);
    //player.body.velocity.y = 0;
player2.setCollideWorldBounds(true);
this.anims.create({
    key: 'up',
    frames: this.anims.generateFrameNumbers('dude', { start: 0, end: 3 }),
    frameRate: 10,
    repeat: -1
});

this.anims.create({
    key: 'turn',
    frames: [ { key: 'dude', frame: 4 } ],
    frameRate: 20
});

this.anims.create({
    key: 'down',
    frames: this.anims.generateFrameNumbers('dude', { start: 5, end: 8 }),
    frameRate: 10,
    repeat: -1
});
this.anims.create({
    key: 'shift',
    frames: this.anims.generateFrameNumbers('dudette', { start: 9, end: 12 }),
    frameRate: 10,
    repeat: -1
});

this.anims.create({
    key: 'turn2',
    frames: [ { key: 'dudette', frame: 13 } ],
    frameRate: 20
});

this.anims.create({
    key: 'space',
    frames: this.anims.generateFrameNumbers('dudette', { start: 14, end: 17 }),
    frameRate: 10,
    repeat: -1
});

Player2_score = this.add.text(10, 16, 'Player 1 Score:'+score1, { fontSize: '2rem', fill: 'white' });
Player1_score = this.add.text(400, 16, 'Player 2 Score:'+score2, { fontSize: '2rem', fill: 'white' });
     }
function update(){cursors = this.input.keyboard.createCursorKeys();

 if (cursors.up.isDown) {
    player.body.velocity.y = -200;    
  } else if (cursors.down.isDown) {
    player.body.velocity.y = 200;
  }
 if (this.keyW.isDown){
    player2.body.velocity.y = -200;
       
  } else if (this.keyS.isDown) {
    player2.body.velocity.y = 200;

  }

  if(logo.body.x==600)
  {
score2=score2+1;
logo.body.x=500;
logo.body.y=340;
player.body.velocity.x = 2000;  
}
if(logo.body.x==0){
score1=score1+1;
logo.body.x=500;
logo.body.y=340;
player.body.velocity.y = 2000;  
  }
  Player1_score.setText('Player 1 Score:'+score1);
Player2_score.setText('Player 2 Score:'+score2);
//need to fix player 2 score its not working
}

        </script>)

</body>
</html>
